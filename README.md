# Big Data Final Project
## Information
### Training / Testing Data
* `~2018` for training, `2019` for testing
### Data for Building the Prediction Models
* 市場：`台北一`
* 作物種類
```
香蕉, 洋香瓜-網狀紅肉, 蓮霧-紅蓮霧, 鳳梨-金鑽鳳梨, 南瓜-木瓜形, 大蒜-蒜仁, 青蔥-日蔥, 小白菜-土白菜, 芽菜類-黃豆牙, 木瓜-網室紅肉
```

* 天氣測站
```
新北(坪林)、桃園(觀音)、新竹(竹東)、苗栗(苗栗)、台中(台中)、彰化(溪湖)、南投(中寮)、雲林(草嶺)、嘉義(嘉義)、台南(永康)、高雄(高雄)、屏東(恆春)、宜蘭(宜蘭)、花蓮(玉里)、台東(台東)
```
* 天氣資訊：`氣壓、氣溫、風速、最大陣風、降水量、颱風強度、警報發布次數`


## Error Rate (MSE)
* price


| Model |香蕉 |洋香瓜 |蓮霧 |鳳梨 |南瓜 |大蒜 |青蔥 |小白菜 |芽菜類 |木瓜 |
| -------- | -------- | -------- | -------- | -------- | -------- | -------- | -------- | -------- | -------- | -------- |
| LSTM | 0.011 | 0.024 | 0.021 | 0.018 | 0.012 | 0.004 | 0.008 | 0.017 | 0.007 | 0.016 |
| LSTM-w/o-fs | 0.035 | 0.0042 | 0.01 | 0.02 | 0.025 | 0.025 | 0.083 | 0.019 | 0.0001 | 0.013 |
| LSTM-w/-fs | 0.019 | 0.0040 | 0.033 | 0.054 | 0.011 | 0.034 | 0.083 | 0.036 | 0.0001 | 0.02 |
| Prophet | 0.3 | 0.07 | 0.12 | 0.012 | 0.12 | 0.39 | 0.007 | 0.026 | 0.102 | 0.024 |
| ARIMA | 0.005 | 0.019 | 0.011 | 0.014 | 0.009 | 0.002 | 0.011 | 0.018 | 0.009 | 0.024 |

* 1_day_return


| Model |香蕉 |洋香瓜 |蓮霧 |鳳梨 |南瓜 |大蒜 |青蔥 |小白菜 |芽菜類 |木瓜 |
| -------- | -------- | -------- | -------- | -------- | -------- | -------- | -------- | -------- | -------- | -------- |
| LSTM-w/o-fs | 0.0285 | 0.0031 | 0.0018 | 0.0112 | 0.0116 | 0.0092 | 0.0150 | 0.0120 | 0.0000164 | 0.0199 |
| LSTM-w/-fs | 0.0146 | 0.0022 | 0.0014 | 0.0066 | 0.0034 | 0.0074 | 0.0060 | 0.0064 | 0.0000098 | 0.0110 |


* 3_day_return


| Model |香蕉 |洋香瓜 |蓮霧 |鳳梨 |南瓜 |大蒜 |青蔥 |小白菜 |芽菜類 |木瓜 |
| -------- | -------- | -------- | -------- | -------- | -------- | -------- | -------- | -------- | -------- | -------- |
| LSTM | 0.048 | 0.040 | 0.047 | 0.050 | 0.017 | 0.028 | 0.061 | 0.061| 0.017 | 0.045 |
| LSTM-w/o-fs | 0.0048 | 0.0009 | 0.0037 | 0.0069 | 0.0020 | 0.0072 | 0.0038 | 0.0023| 0.000063 | 0.0042 |
| LSTM-w/-fs | 0.0076 | 0.0014 | 0.0038 | 0.0329 | 0.0018 | 0.0039 | 0.0032 | 0.0020 | 0.000007 | 0.0045 |
| Prophet | 0.21 | 0.13 | 0.144 | 0.091 | 0.101 | 0.067 | 0.094 | 0.106 | 0.243 | 0.184 |
| ARIMA | 0.026 | 0.021 | 0.018 | 0.021 | 0.013 | 0.006 | 0.014 | 0.023 | 0.003 | 0.014 |


## The difference of return prediction

  ```
  * 漲跌幅度的誤差:
  |ground truth - prediction| / total_day
  ```
- Price

| Model |香蕉 |洋香瓜 |蓮霧 |鳳梨 |南瓜 |大蒜 |青蔥 |小白菜 |芽菜類 |木瓜 |
| -------- | -------- | -------- | -------- | -------- | -------- | -------- | -------- | -------- | -------- | -------- |
| LSTM-w/o-fs | 11.52% | 8.09% | 18.18% | 4.32% | 6.39% | 26.95% | 73.21% | 9.19% | 0.36% | 7.46% |
| LSTM-w/-fs | 9.38% | 7.93% | 30.08% | 7.76% | 5.64% | 32.81% | 72.69% | 12.5% | 0.34% | 9.65% |

- 1_day_return

| Model |香蕉 |洋香瓜 |蓮霧 |鳳梨 |南瓜 |大蒜 |青蔥 |小白菜 |芽菜類 |木瓜 |
| -------- | -------- | -------- | -------- | -------- | -------- | -------- | -------- | -------- | -------- | -------- |
| LSTM-w/o-fs | 6.95% | 13.31% | 10.79% | 8.37% | 10.81% | 7.88% | 17.73% | 17.77% | 0.61% | 12.93% |
| LSTM-w/-fs | 5.11% | 11.67% | 9.29% | 6.51% | 7.08% | 6.28% | 11.24% | 12.62% | 0.32% | 9.05% |

- 3_day_return

| Model |香蕉 |洋香瓜 |蓮霧 |鳳梨 |南瓜 |大蒜 |青蔥 |小白菜 |芽菜類 |木瓜 |
| -------- | -------- | -------- | -------- | -------- | -------- | -------- | -------- | -------- | -------- | -------- |
| ------ | 10.89% | 21.18% | 19.12% | 18.2% | 11.61% | 4.52% | 28.62% | 33.85% | 1.13% | 25.78% |
| LSTM-w/o-fs | 5.28% | 14.59% | 11.31% | 6.90% | 7.94% | 7.03% | 11.64% | 13.55% | 1.24% |8.33% |
| LSTM-w/-fs | 6.47% | 17.58% | 12.05% | 15.74% | 7.22% | 4.94% | 10.09% | 12.84% | 0.33% | 8.48% |
| prophet | 8.1% | 17.35% | 12.34% | 11.57% | 10.46% | 1.79% | 15.21% | 22.91% | 0.76% | 15.15% |

> 我覺得 prophet 的 3_day_return 低得有點詭異，我可能要再檢查一下
